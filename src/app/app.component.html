<mat-toolbar>
  <span routerLink="/" class="logo">SeriesTracker</span>
  <span class="spacer"></span>
  <button mat-icon-button aria-label="Filter icon" [matMenuTriggerFor]="menuFilter">
    <mat-icon>filter_alt</mat-icon>
  </button>
  <button mat-icon-button aria-label="Sort icon" [matMenuTriggerFor]="menuSort">
    <mat-icon>sort</mat-icon>
  </button>
</mat-toolbar>

<mat-menu #menuFilter="matMenu">
  <section class="section">
    <h4 class="list-title">Hide</h4>

    <ul class="list" *ngIf="config">
      <li class="list-item" *ngFor="let filter of config.filters">
        <mat-checkbox [(ngModel)]="filter.value" (ngModelChange)="configService.syncConfig()">
          {{ filter.name }}
        </mat-checkbox>
      </li>
    </ul>
  </section>
</mat-menu>

<mat-menu #menuSort="matMenu">
  <section class="section">
    <h4 class="list-title">Sort</h4>
    <mat-radio-group
      *ngIf="config"
      class="radio-group"
      [(ngModel)]="config.sort.by"
      (ngModelChange)="configService.syncConfig()"
    >
      <mat-radio-button
        *ngFor="let sortBy of config.sort.values"
        [value]="sortBy"
        class="radio-button"
      >
        {{ sortBy }}
      </mat-radio-button>
    </mat-radio-group>
    <ul *ngIf="config" class="list">
      <li
        class="list-item"
        *ngFor="let sortOption of config.sortOptions"
        [value]="sortOption.value"
      >
        <mat-checkbox [(ngModel)]="sortOption.value" (ngModelChange)="configService.syncConfig()">
          {{ sortOption.name }}
        </mat-checkbox>
      </li>
    </ul>
  </section>
</mat-menu>

<router-outlet></router-outlet>
